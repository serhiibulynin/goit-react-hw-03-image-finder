{"version":3,"sources":["components/imageGallery/imageGallerryItem/ImageGalleryItem.js","components/imageGallery/ImageGallery.js","components/searchbar/Searchbar.js","components/modal/Modal.js","components/button/Button.js","services/pixabayApi.js","components/App.js","index.js"],"names":["ImageGalleryItem","webformatURL","tags","largeImageURL","toggleModal","className","src","alt","onClick","ImageGallery","pictures","map","picture","id","Searchbar","state","query","onHandleChange","e","setState","currentTarget","value","onFormSubmit","preventDefault","props","onSubmit","this","type","autoComplete","autoFocus","placeholder","onChange","Component","modalRoot","document","querySelector","Modal","closeModalByEsc","code","handleBackdropClick","target","window","addEventListener","removeEventListener","createPortal","url","Button","children","defaultProps","axios","defaults","baseURL","fetchPicturesApi","a","searchQuery","currentPage","pageSize","get","then","response","data","hits","length","Promise","reject","App","showModal","originalPictureSize","originalPictureTag","isLoading","error","onChangeQuery","fetchPictures","options","prevState","catch","finally","tag","prevProps","scrollTo","top","documentElement","scrollHeight","behavior","alert","color","height","width","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.c4f8a2f1.chunk.js","sourcesContent":["import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst ImageGalleryItem = ({\r\n  webformatURL,\r\n  tags,\r\n  largeImageURL,\r\n  toggleModal,\r\n}) => {\r\n  const onImgClick = () => {\r\n    toggleModal(largeImageURL, tags);\r\n  };\r\n\r\n  return (\r\n    <li className=\"ImageGalleryItem\">\r\n      <img\r\n        src={webformatURL}\r\n        alt={tags}\r\n        className=\"ImageGalleryItem-image\"\r\n        onClick={onImgClick}\r\n      />\r\n    </li>\r\n  );\r\n};\r\n\r\nImageGalleryItem.propTypes = {\r\n  webformatURL: PropTypes.string.isRequired,\r\n  tags: PropTypes.string.isRequired,\r\n  largeImageURL: PropTypes.string.isRequired,\r\n  toggleModal: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport ImageGalleryItem from \"./imageGallerryItem/ImageGalleryItem\";\r\n\r\nconst ImageGallery = ({ pictures, toggleModal }) => {\r\n  return (\r\n    <ul className=\"ImageGallery\">\r\n      {pictures.map((picture) => (\r\n        <ImageGalleryItem\r\n          key={picture.id}\r\n          {...picture}\r\n          toggleModal={toggleModal}\r\n        />\r\n      ))}\r\n    </ul>\r\n  );\r\n};\r\n\r\nImageGallery.propTypes = {\r\n  pictures: PropTypes.array.isRequired,\r\n  toggleModal: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGallery;\r\n","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nclass Searchbar extends Component {\r\n  state = {\r\n    query: \"\",\r\n  };\r\n\r\n  onHandleChange = (e) => {\r\n    this.setState({ query: e.currentTarget.value });\r\n  };\r\n\r\n  onFormSubmit = (e) => {\r\n    e.preventDefault();\r\n    this.props.onSubmit(this.state.query);\r\n    this.setState({ query: \"\" });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className=\"Searchbar\">\r\n        <form className=\"SearchForm\" onSubmit={this.onFormSubmit}>\r\n          <button type=\"submit\" className=\"SearchForm-button\">\r\n            <span className=\"SearchForm-button-label\">Search</span>\r\n          </button>\r\n          <input\r\n            className=\"SearchForm-input\"\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            value={this.state.query}\r\n            onChange={this.onHandleChange}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nSearchbar.propTypes = {\r\n  onSubmit: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Searchbar;\r\n","import React, { Component } from \"react\";\r\nimport { createPortal } from \"react-dom\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst modalRoot = document.querySelector(\"#modal-root\");\r\n\r\nclass Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener(\"keydown\", this.closeModalByEsc);\r\n  }\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"keydown\", this.closeModalByEsc);\r\n  }\r\n\r\n  closeModalByEsc = (e) => {\r\n    if (e.code === \"Escape\") {\r\n      this.props.toggleModal(\"\", \"\");\r\n    }\r\n  };\r\n\r\n  handleBackdropClick = (e) => {\r\n    if (e.currentTarget === e.target) {\r\n      this.props.toggleModal(\"\", \"\");\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return createPortal(\r\n      <div className=\"Overlay\" onClick={this.handleBackdropClick}>\r\n        <div className=\"Modal\">\r\n          <img src={this.props.url} alt={this.props.alt} />\r\n        </div>\r\n      </div>,\r\n      modalRoot\r\n    );\r\n  }\r\n}\r\n\r\nModal.propTypes = {\r\n  toggleModal: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Modal;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst Button = ({ children, onClick }) => {\r\n  return (\r\n    <button className=\"Button\" type=\"button\" onClick={onClick}>\r\n      {children}\r\n    </button>\r\n  );\r\n};\r\n\r\nButton.defaultProps = {\r\n  onClick: () => null,\r\n  children: null,\r\n};\r\n\r\nButton.propTypes = {\r\n  onClick: PropTypes.func,\r\n  children: PropTypes.node,\r\n};\r\n\r\nexport default Button;\r\n","import axios from \"axios\";\r\n\r\naxios.defaults.baseURL = \"https://pixabay.com/api/\";\r\n// axios.defaults.headers.common[\"Authorization\"] =\r\n//   \"Bearer 22368455-652b774db086074207edc62e9\";\r\n\r\nconst fetchPicturesApi = async ({\r\n  searchQuery = \"\",\r\n  currentPage = 1,\r\n  pageSize = 12,\r\n}) => {\r\n  const response = await axios\r\n    .get(\r\n      `?q=${searchQuery}&page=${currentPage}&key=22368455-652b774db086074207edc62e9&image_type=photo&orientation=horizontal&per_page=${pageSize}`\r\n    )\r\n    .then((response) => response.data.hits);\r\n\r\n  if (!response.length) return Promise.reject(\"No any matches found!\");\r\n  if (response.length) return response;\r\n};\r\n\r\nexport default fetchPicturesApi;\r\n","import React, { Component } from \"react\";\n\nimport ImageGallery from \"./imageGallery/ImageGallery\";\nimport Searchbar from \"./searchbar/Searchbar\";\nimport Modal from \"./modal/Modal\";\nimport Button from \"./button/Button\";\n\nimport fetchPicturesApi from \"../services/pixabayApi\";\nimport Loader from \"react-loader-spinner\";\n\nclass App extends Component {\n  state = {\n    pictures: [],\n    searchQuery: \"\",\n    currentPage: 1,\n    showModal: false,\n    originalPictureSize: \"\",\n    originalPictureTag: \"\",\n    isLoading: false,\n    error: null,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.searchQuery !== this.state.searchQuery) {\n      this.fetchPictures();\n    }\n\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: \"smooth\",\n    });\n  }\n\n  onChangeQuery = (query) => {\n    this.setState({\n      searchQuery: query,\n      currentPage: 1,\n      pictures: [],\n      error: null,\n    });\n  };\n\n  fetchPictures = () => {\n    const { searchQuery, currentPage } = this.state;\n    const options = { searchQuery, currentPage };\n\n    this.setState({ isLoading: true });\n\n    fetchPicturesApi(options)\n      .then((response) =>\n        this.setState((prevState) => ({\n          pictures: [...prevState.pictures, ...response],\n          currentPage: prevState.currentPage + 1,\n        }))\n      )\n      .catch((error) => this.setState({ error }))\n      .finally(() => this.setState({ isLoading: false }));\n  };\n\n  toggleModal = (url, tag) => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n      originalPictureSize: url,\n      originalPictureTag: tag,\n    }));\n  };\n\n  render() {\n    const {\n      pictures,\n      originalPictureSize,\n      originalPictureTag,\n      isLoading,\n      error,\n    } = this.state;\n    const textButton = \"Load More\";\n\n    return (\n      <>\n        <Searchbar onSubmit={this.onChangeQuery} />\n        {error && alert(\"Not found pictures for you querry\")}\n        <ImageGallery pictures={pictures} toggleModal={this.toggleModal} />\n        {pictures.length && (\n          <Button onClick={this.fetchPictures}>\n            {isLoading ? (\n              <Loader type=\"Circles\" color=\"#00BFFF\" height={24} width={24} />\n            ) : (\n              textButton\n            )}\n          </Button>\n        )}\n\n        {this.state.showModal && (\n          <Modal\n            url={originalPictureSize}\n            alt={originalPictureTag}\n            toggleModal={this.toggleModal}\n          />\n        )}\n      </>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App\";\nimport \"modern-normalize/modern-normalize.css\";\nimport \"./styles.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}